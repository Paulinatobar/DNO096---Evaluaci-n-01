<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <title>üìù Evaluaci√≥n N¬∞1</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.4/p5.js"></script>
    <link rel="stylesheet" href="style.css" />
</head>
<body>
    <header>
        <p>
            <a href="index.html">Hola</a>
            <a href="page-1.html">Caleidoscopio</a>
            <a href="page-2.html">Condiciones</a>
            <a href="page-3.html" class="activo">Poema Aleatorio</a>
            <a href="page-4.html">Orbit Control</a>
        </p>
        <h1>Poema Aleatorio</h1>
    </header>
    
    <main>
        <!-- Contenedor para el poema -->
        <div id="poema-container"></div>
    </main>

    <aside>
        <button onclick="foto()">üñºÔ∏è DESCARGAR EL POEMA!</button>
    </aside>

    <!-- Script p5.js -->
    <script>
        const marginSides = 50; // M√°rgenes laterales en p√≠xeles
        const extraHeight = 50; // Altura adicional para el lienzo

        let words = ['que', 'tiemble', 'el', 'Estado', 'los', 'cielos', 'calles',
                      'teman', 'jueces', 'judiciales', 'mujeres', 'quitan', 'calma', 'sembraron', 'miedo', 'crecieron',
                      'alas', 'gritamos', 'sin miedo', 'pedimos', 'justicia', 'cada', 'desaparecida',
                      'nos', 'queremos!', 'vivas', 'caiga', 'con', 'fuerza', 'feminicida'];

        let hue;

        function setup() {
            // Crea el lienzo dentro del contenedor del poema
            const canvas = createCanvas(windowWidth - marginSides * 2, windowHeight - marginSides - extraHeight); // Altura del lienzo ajustada
            canvas.parent('poema-container');
            background("#AD1457");
            textFont('Space Mono');
            textAlign(CENTER);
            colorMode(HSB);

            // Define hue as a random value
            hue = random(180, 360);

            // Obt√©n la altura del header din√°micamente
            const headerHeight = document.querySelector('header').offsetHeight;

            // Dibujar palabras en posiciones aleatorias dentro del contenedor,
            // asegurando que se dibujen debajo del h1
            for (let i = 0; i < 20; i++) {
                textSize(random(16, 48));
                fill(hue, 200, random(50, 95));
                let x = random(marginSides, width - marginSides);
                let y = random(headerHeight, height - 50); // Inicio debajo del header
                text(random(words), x, y);
            }
        }

        function foto() {
            saveCanvas("nombre-del-ejemplo", "jpg");
        }

        function windowResized() {
            const canvasHeight = windowHeight - marginSides - extraHeight;
            resizeCanvas(windowWidth - marginSides * 2, canvasHeight);
            background("#AD1457");

            const headerHeight = document.querySelector('header').offsetHeight;

            // Redibujar las palabras respetando el margen superior del header
            for (let i = 0; i < 20; i++) {
                textSize(random(16, 48));
                fill(hue, 200, random(50, 95));
                let x = random(marginSides, width - marginSides);
                let y = random(headerHeight, height - 50);
                text(random(words), x, y);
            }
        }
    </script>
</body>
</html>
